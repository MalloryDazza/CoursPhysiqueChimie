<script type="text/javascript" charset="utf-8">

document.addEventListener('DOMContentLoaded', function() {
  
  /* click on answer boxes */
  const slideQuestion = document.getElementById('slide-Question1');
  var x = slideQuestion.querySelector('.comment');
  x.style.display = "none";
  
  var answers = slideQuestion.querySelectorAll('.bad-answer');
  answers.appendNodes(slideQuestion.querySelector('.good-answer'));
  
  answers.map(function(selector){
    slideQuestion.querySelector('.' + selector + 'answer').
      addEventListener('click', function () {
        
        /*Show good an bad answer*/
        slideQuestion.querySelectorAll('.bad-answer').
          forEach(function(answ) {
            answ.classList.toggle('bad-clicked');
          });
        slideQuestion.querySelector('.good-answer').
          classList.toggle('good-clicked');
        
        /* Show question comments */
        if (x.style.display === "none") {
          x.style.display = "block";
        } else {
          x.style.display = "none";
        }
        
        /* Remove hover background */
        slideQuestion.querySelector('.good-answer:hover').
          classList.toggle('no-hover');
        slideQuestion.querySelectorAll('.bad-answer:hover').
          forEach(function(answ) {
            answ.classList.toggle('no-hover');
          });
          
        /*slideQuestion.querySelector('.comment').classList.
          toggle('comment-on');
        slideQuestion.querySelector('.bad-answer').
          classList.toggle('bad-clicked');
        slideQuestion.querySelectorAll('.bad-answer').
          forEach(function(answ) {
            answ.classList.toggle('bad-clicked');
          })*/
      })
    })
  })
</script>

<style>
/* Answer Bouttons */

.bad-clicked {
  color: #5f1919;
  /*border: 2px solid #5f1919;*/
}

.good-clicked {
  color: #365f49;
  /*border: 2px solid #365f49;*/
}

.good-answer {
  border-left: 6px solid #968478;
  display: inline-block;
  padding-left: 5px;
  padding-right: 5px;
  cursor: pointer;
}

.good-answer:hover {
  background-color: #121822;
}

.bad-answer {
  border-left: 6px solid #968478;
  display: inline-block;
  padding-left: 5px;
  padding-right: 5px;
  cursor: pointer;
}

.bad-answer:hover {
  background-color: #121822;
}

.no-hover{
  pointer-events: none;
}

</style>


<script>
function replaceIframePlaceholders () {
  document
    .querySelectorAll('.remark-slides-area .remark-visible div[data-iframe]')
    .forEach(el => replaceIframePlaceholder(el))
}

function replaceIframePlaceholder (el) {
    const iframe = document.createElement('iframe')
    if (el.childNodes) {
      el.childNodes.forEach(e => iframe.appendChild(e))
    }
    iframe.src = el.dataset.src
    iframe.classList = el.classList
    el.parentElement.replaceChild(iframe, el)
}

document.addEventListener('DOMContentLoaded', function() {
  /* iframe placeholders */
  slideshow.on('afterShowSlide', function (slide) {
    replaceIframePlaceholders()
  })
  replaceIframePlaceholders()

  /* click on block boxes */
  const slideWebNutshell = document.getElementById('slide-web-nutshell');

  ['block', 'inline'].map(function(cls) {
    slideWebNutshell.querySelector('.' + cls)
      .addEventListener('click', function() {
        slideWebNutshell.classList.toggle(cls)
      })
  })

  const codePre = document.getElementById("css-classes-rules-code")
  const code = codePre.querySelector('code')
  const style = document.getElementById('css-classes-rules')
  code.innerText = '<style>\n' + style.innerText.trim() + '\n</style>'

  function setStyle() { style.innerText = code.innerText.replaceAll('\n', '').replaceAll(/<\/?style>/g, '') }
  function blockEvents(ev) { ev.stopPropagation() }

  codePre.addEventListener('focus', function () {
    codePre.addEventListener('keyup', blockEvents)
    codePre.addEventListener('keydown', blockEvents)
    codePre.addEventListener('keypress', blockEvents)
    codePre.addEventListener('keyup', setStyle)
  })
  codePre.addEventListener('blur', function () {
    codePre.removeEventListener('keyup', blockEvents)
    codePre.removeEventListener('keydown', blockEvents)
    codePre.removeEventListener('keypress', blockEvents)
  })
})
</script>